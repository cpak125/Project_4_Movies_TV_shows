(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{252:function(e,t,a){e.exports=a(446)},257:function(e,t,a){},446:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(53),s=a.n(c),o=(a(257),a(17)),i=a(18),l=a(20),u=a(19),p=a(21),h=a(465),m=a(466),d=a(468),v=a(455),f=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"Landing Page"),r.a.createElement("p",null,"App description"),r.a.createElement(v.a,{to:"/users"},r.a.createElement("button",null,"Enter")))}}]),t}(n.Component),w=a(8),b=a.n(w),E=a(16),O=a(24),g=a(22),j=a.n(g),y=a(25),S=a(45),C=a(460),_=a(461),x=a(217),k=a(457),D=a(464);function N(){var e=Object(O.a)(["\n    &&& {\n        width: 50vw;\n        margin: 0 auto;\n        padding-bottom: 10px;\n\n    }\n"]);return N=function(){return e},e}function U(){var e=Object(O.a)(["\n    &&& {\n        width: 30vw; \n        margin: 0 auto;  \n    }\n"]);return U=function(){return e},e}var A=Object(y.a)(C.a)(U()),M=Object(y.a)(_.a)(N()),T=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,c=new Array(n),s=0;s<n;s++)c[s]=arguments[s];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(c)))).state={newUser:{name:"",age:"",location:""},modalOpen:!1},a.handleOpen=function(){return a.setState({modalOpen:!0})},a.handleClose=function(){return a.setState({modalOpen:!1,newUser:{name:"",age:"",location:""}})},a.handleChange=function(e){var t=Object(S.a)({},a.state.newUser);t[e.target.name]=e.target.value,a.setState({newUser:t})},a.handleSubmit=function(e){e.preventDefault();var t=Object(S.a)({},a.state.newUser);a.props.addNewUser(t),a.setState({newUser:{name:"",age:"",location:""},modalOpen:!1})},a.addNewUserModal=function(){return r.a.createElement(M,{trigger:r.a.createElement(x.a,{link:!0,color:"green",name:"user plus",onClick:a.handleOpen}),open:a.state.modalOpen},r.a.createElement(_.a.Header,null,"Create New User"),r.a.createElement(_.a.Content,{form:"true"},r.a.createElement(A,{onSubmit:a.handleSubmit},r.a.createElement(C.a.Field,{inline:!0},r.a.createElement("label",null,"Name:"),r.a.createElement(k.a,{fluid:!0,onChange:a.handleChange,type:"text",name:"name",value:a.state.newUser.name,placeholder:"Name"})),r.a.createElement(C.a.Field,{inline:!0},r.a.createElement("label",null,"Age:  "),r.a.createElement(k.a,{fluid:!0,onChange:a.handleChange,type:"text",name:"age",value:a.state.newUser.age,placeholder:"Age"})),r.a.createElement(C.a.Field,{inline:!0},r.a.createElement("label",null,"Location:"),r.a.createElement(k.a,{fluid:!0,onChange:a.handleChange,type:"text",name:"location",value:a.state.newUser.location,placeholder:"City, State"})),r.a.createElement(D.a,{color:"red",floated:"right",onClick:a.handleClose},"Cancel"),r.a.createElement(D.a,{color:"green",floated:"right",className:"update",type:"submit",value:"Add Post"},"Submit"))))},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return this.addNewUserModal()}}]),t}(n.Component),V=a(463);function R(){var e=Object(O.a)(["\n margin-top:10px;\n margin-bottom:10px;\n font-size:20px;\n "]);return R=function(){return e},e}function P(){var e=Object(O.a)(["\n text-align:center;\n margin-top:20px;\n "]);return P=function(){return e},e}var I=y.a.div(P()),H=y.a.div(R()),z=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={users:[]},a.fetchUsers=Object(E.a)(b.a.mark(function e(){var t;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.a.get("/api/users");case 2:t=e.sent,a.setState({users:t.data});case 4:case"end":return e.stop()}},e,this)})),a.addNewUser=function(){var e=Object(E.a)(b.a.mark(function e(t){return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.a.post("/api/users",t);case 2:a.fetchUsers();case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=Object(E.a)(b.a.mark(function e(){return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetchUsers();case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.users.map(function(e,t){return r.a.createElement(H,{key:t},r.a.createElement(v.a,{to:"/users/".concat(e.id)},e.name," "))});return r.a.createElement("div",null,r.a.createElement(V.a,{size:"tiny",icon:"labeled",inverted:!0},r.a.createElement(V.a.Item,{as:v.a,to:"/"},r.a.createElement(x.a,{link:!0,name:"home"})," Home")),r.a.createElement(I,null,r.a.createElement("h1",null,"Users ",r.a.createElement(T,{addNewUser:this.addNewUser})),e))}}]),t}(n.Component),B=a(462),L=a(458);function Q(){var e=Object(O.a)(["\n    &&& {\n        width: 50vw;\n        margin:auto;\n        padding-bottom: 10px;\n    }\n"]);return Q=function(){return e},e}function F(){var e=Object(O.a)(["\n    &&& {\n        width: 30vw; \n        margin: auto;  \n        font-size: 16px;\n    }\n"]);return F=function(){return e},e}var K=Object(y.a)(C.a)(F()),Y=Object(y.a)(_.a)(Q()),G=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,c=new Array(n),s=0;s<n;s++)c[s]=arguments[s];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(c)))).state={user:{},modalOpen:!1},a.componentDidMount=function(){a.getUser()},a.getUser=Object(E.a)(b.a.mark(function e(){var t,n;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.props.userId,e.next=3,j()("/api/users/".concat(t));case 3:n=e.sent,a.setState({user:n.data});case 5:case"end":return e.stop()}},e,this)})),a.handleOpen=function(){return a.setState({modalOpen:!0})},a.handleClose=function(){a.setState({modalOpen:!1}),a.getUser()},a.handleChange=function(e){var t=Object(S.a)({},a.state.user);t[e.target.name]=e.target.value,a.setState({user:t})},a.handleUpdate=function(){var e=Object(E.a)(b.a.mark(function e(t){var n,r;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.props.userId,r=a.state.user,t.preventDefault(),e.next=5,j.a.put("/api/users/".concat(n),r);case 5:a.setState({modalOpen:!1}),a.props.fetchData();case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),a.editUserModal=function(){return r.a.createElement(Y,{trigger:r.a.createElement(D.a,{color:"blue",fluid:!0,onClick:a.handleOpen},"Edit Profile"),open:a.state.modalOpen},r.a.createElement(_.a.Content,{form:"true"},r.a.createElement(K,{onSubmit:a.handleUpdate},r.a.createElement(C.a.Field,{inline:!0},r.a.createElement("label",null,"Name:"),r.a.createElement(k.a,{fluid:!0,onChange:a.handleChange,type:"text",name:"name",value:a.state.user.name})),r.a.createElement(C.a.Field,{inline:!0},r.a.createElement("label",null,"Age:  "),r.a.createElement(k.a,{fluid:!0,onChange:a.handleChange,type:"text",name:"age",value:a.state.user.age})),r.a.createElement(C.a.Field,{inline:!0},r.a.createElement("label",null,"Location:"),r.a.createElement(k.a,{fluid:!0,onChange:a.handleChange,type:"text",name:"location",value:a.state.user.location})),r.a.createElement(D.a,{color:"red",floated:"right",onClick:a.handleClose},"Cancel"),r.a.createElement(D.a,{color:"green",floated:"right",type:"submit",value:"Update"},"Update"))))},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return this.editUserModal()}}]),t}(n.Component);function q(){var e=Object(O.a)(["\n&&&{\n    display:flex;\n    flex-direction:column;\n    justify-content: space-around;\n    align-items:left;\n    font-size: 18px;\n    margin-bottom: 5px;\n}\n"]);return q=function(){return e},e}function J(){var e=Object(O.a)(["\n    &&&{\n        width: 30vw;\n        height: 300px;\n        background-color:lightgray;\n    }\n"]);return J=function(){return e},e}function W(){var e=Object(O.a)(["\n    display:flex;\n    flex-direction:row;\n    justify-content:space-evenly;\n    margin-top:40px;\n    Button{\n        width:30vw;\n    }\n"]);return W=function(){return e},e}function $(){var e=Object(O.a)(["\nmargin: 0 auto;\n"]);return $=function(){return e},e}function X(){var e=Object(O.a)(["\n    margin-top: 20px;\n    margin: auto;\n    display:flex;\n    flex-direction: column;\n    align-items: center;\n    Button{\n        font-size: 40px;\n    }\n"]);return X=function(){return e},e}var Z=y.a.div(X()),ee=y.a.div($()),te=y.a.div(W()),ae=Object(y.a)(B.a)(J()),ne=Object(y.a)(B.a.Content)(q()),re=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={user:{},confirmOpen:!1},a.fetchData=Object(E.a)(b.a.mark(function e(){var t,n;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.props.match.params.id,e.next=3,j.a.get("/api/users/".concat(t));case 3:n=e.sent,a.setState({user:n.data});case 5:case"end":return e.stop()}},e,this)})),a.deleteUser=Object(E.a)(b.a.mark(function e(){var t;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.props.match.params.id,e.next=3,j.a.delete("/api/users/".concat(t));case 3:a.props.history.push("/users"),a.handleConfirm();case 5:case"end":return e.stop()}},e,this)})),a.showConfirm=function(){return a.setState({confirmOpen:!0})},a.handleConfirm=function(){return a.setState({confirmOpen:!1})},a.handleCancel=function(){return a.setState({confirmOpen:!1})},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=Object(E.a)(b.a.mark(function e(){return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetchData();case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state.user;return r.a.createElement(ee,null,r.a.createElement(V.a,{fluid:!0,widths:2,size:"tiny",icon:"labeled",inverted:!0},r.a.createElement(V.a.Item,{as:v.a,to:"/"},r.a.createElement(x.a,{link:!0,name:"home"})," Home"),r.a.createElement(V.a.Item,{as:v.a,to:"/users"},r.a.createElement(x.a,{link:!0,name:"users"})," All Users")),r.a.createElement(Z,null,r.a.createElement("h1",null,t.name,"'s Profile"),r.a.createElement(ae,null,r.a.createElement(ne,null,r.a.createElement(B.a.Description,null,r.a.createElement("b",null,"Name:")," ",t.name),r.a.createElement(B.a.Description,null,r.a.createElement("b",null,"Age:")," ",t.age),r.a.createElement(B.a.Description,null," ",r.a.createElement("b",null,"Location:")," ",t.location),r.a.createElement(B.a.Content,{extra:!0},r.a.createElement(G,{userId:this.props.match.params.id,push:this.props.history.push,fetchData:this.fetchData})),r.a.createElement(B.a.Content,{extra:!0},r.a.createElement(D.a,{fluid:!0,size:"medium",color:"red",onClick:this.showConfirm},"Delete Profile"),r.a.createElement(L.a,{open:this.state.confirmOpen,content:"Are you sure you want to delete ".concat(t.name,"'s profile? "),cancelButton:"No",confirmButton:"Yes",size:"tiny",onCancel:this.handleCancel,onConfirm:function(){return e.deleteUser()}}))))),r.a.createElement(te,null,r.a.createElement(v.a,{to:"/users/".concat(t.id,"/movies")},r.a.createElement(D.a,{compact:!0,size:"big",color:"green",animated:"fade"},r.a.createElement(D.a.Content,{visible:!0},r.a.createElement(x.a,{name:"film",size:"big"})),r.a.createElement(D.a.Content,{hidden:!0},"See Favorite Movies"))),r.a.createElement(v.a,{to:"/users/".concat(t.id,"/tv_shows")},r.a.createElement(D.a,{compact:!0,size:"big",color:"green",animated:"fade"},r.a.createElement(D.a.Content,{visible:!0},r.a.createElement(x.a,{name:"tv",size:"big"})),r.a.createElement(D.a.Content,{hidden:!0},"See Favorite TV Shows")))))}}]),t}(n.Component),ce=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).addNewMovie=function(e,t,n,r,c){a.props.addNewMovie(e,t,n,r,c),a.props.handleClose()},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("img",{src:this.props.poster_path,alt:"movie poster"})),r.a.createElement("div",null,this.props.title),r.a.createElement("div",null,this.props.release_date),r.a.createElement("div",null,this.props.overview),r.a.createElement("div",null,r.a.createElement(D.a,{onClick:function(){return e.addNewMovie(e.props.title,e.props.movie_id,e.props.release_date,e.props.overview,e.props.poster_path)}},"Add to List")))}}]),t}(n.Component),se=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.props.searchResults.map(function(t,a){var n="https://image.tmdb.org/t/p/w200/".concat(t.poster_path);return r.a.createElement(ce,{key:a,title:t.title,movie_id:t.id,release_date:t.release_date,poster_path:n,overview:t.overview,addNewMovie:e.props.addNewMovie,resetSearch:e.props.resetSearch,handleClose:e.props.handleClose})});return r.a.createElement("div",null,t)}}]),t}(n.Component),oe=a(459);function ie(){var e=Object(O.a)(["\n&&&{\n    margin-top:2vw;\n}\n"]);return ie=function(){return e},e}function le(){var e=Object(O.a)(["\n&&&{\n    width:30vw;\n}\n"]);return le=function(){return e},e}var ue=Object(y.a)(D.a)(le()),pe=Object(y.a)(D.a)(ie()),he=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={searchQuery:"",searchResults:[],modalOpen:!1},a.handleOpen=function(){return a.setState({modalOpen:!0})},a.handleClose=function(){return a.setState({modalOpen:!1,searchQuery:"",searchResults:[],searching:!1})},a.transferResult=function(e){a.setState({searchResults:e.data.results})},a.toggleSearching=function(){a.setState({searching:!a.state.searching})},a.inputChangeHandler=function(e){a.setState({searchQuery:e.target.value})},a.searchButtonHandler=Object(E.a)(b.a.mark(function e(){var t;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.a.get("https://api.themoviedb.org/3/search/movie?query=".concat(a.state.searchQuery,"&api_key=").concat(Object({NODE_ENV:"production",PUBLIC_URL:""}).REACT_APP_API_KEY));case 2:t=e.sent,a.transferResult(t),a.toggleSearching();case 5:case"end":return e.stop()}},e,this)})),a.newSearchHandler=function(){a.resetSearch()},a.handleKeyPress=function(e){"Enter"==e.key&&a.searchButtonHandler()},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(_.a,{trigger:r.a.createElement(ue,{animated:"fade",primary:!0,size:"large",compact:!0,onClick:this.handleOpen},r.a.createElement(D.a.Content,{visible:!0},"Add a Movie"),r.a.createElement(D.a.Content,{hidden:!0}," Click to begin Search")),size:"large",closeIcon:!0,centered:!1,open:this.state.modalOpen,onClose:this.handleClose},r.a.createElement(_.a.Header,null,"Search for a Movie"),r.a.createElement(_.a.Content,{scrolling:!0},r.a.createElement(oe.a,{offset:2},r.a.createElement(k.a,{fluid:!0,focus:!0,type:"text",icon:"search",placeholder:"Search...",value:this.state.searchQuery,onChange:this.inputChangeHandler,onKeyPress:this.handleKeyPress}),r.a.createElement(pe,{primary:!0,floated:"right",onClick:this.searchButtonHandler},"Search")),this.state.searching?r.a.createElement(se,{searchResults:this.state.searchResults,addNewMovie:this.props.addNewMovie,resetSearch:this.resetSearch,handleClose:this.handleClose}):null)))}}]),t}(n.Component);function me(){var e=Object(O.a)(["\ntext-align:center;\nmargin-top: 5vw;\n"]);return me=function(){return e},e}function de(){var e=Object(O.a)(["\n    &&&{\n        margin:3vw 10vw ;\n    }\n"]);return de=function(){return e},e}var ve=Object(y.a)(B.a.Group)(de()),fe=y.a.div(me()),we=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={user:{},movies:[],newMovie:{title:"",movie_id:"",release_date:"",overview:"",poster_path:""}},a.fetchData=Object(E.a)(b.a.mark(function e(){var t,n,r;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.props.match.params.user_id,e.next=3,j.a.get("/api/users/".concat(t));case 3:return n=e.sent,e.next=6,j.a.get("/api/users/".concat(t,"/movies"));case 6:r=e.sent,a.setState({user:n.data,movies:r.data});case 8:case"end":return e.stop()}},e,this)})),a.addNewMovie=function(){var e=Object(E.a)(b.a.mark(function e(t,n,r,c,s){var o;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(o=Object(S.a)({},a.state.newMovie)).title=t,o.movie_id=n,o.release_date=r,o.overview=c,o.poster_path=s,e.next=8,a.setState({newMovie:o});case 8:a.handleSubmitMovie();case 9:case"end":return e.stop()}},e,this)}));return function(t,a,n,r,c){return e.apply(this,arguments)}}(),a.handleSubmitMovie=Object(E.a)(b.a.mark(function e(){var t;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.props.match.params.user_id,e.next=3,j.a.post("/api/users/".concat(t,"/movies"),a.state.newMovie);case 3:return e.next=5,a.fetchData();case 5:a.setState({newMovie:{title:"",movie_id:"",release_date:"",overview:"",poster_path:""}});case 6:case"end":return e.stop()}},e,this)})),a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=Object(E.a)(b.a.mark(function e(){return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetchData();case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.user,t=this.state.movies.map(function(t,a){return r.a.createElement(B.a,{key:a,as:v.a,to:"/users/".concat(e.id,"/movies/").concat(t.id)},r.a.createElement(B.a.Content,null,r.a.createElement(B.a.Header,{textAlign:"center"}," ",t.title," ")),r.a.createElement("img",{src:t.poster_path,alt:"movie poster"}))});return r.a.createElement("div",null,r.a.createElement(V.a,{fluid:!0,widths:3,size:"tiny",icon:"labeled",inverted:!0},r.a.createElement(V.a.Item,{as:v.a,to:"/"},r.a.createElement(x.a,{link:!0,name:"home"})," Home"),r.a.createElement(V.a.Item,{as:v.a,to:"/users"},r.a.createElement(x.a,{link:!0,name:"users"})," All Users"),r.a.createElement(V.a.Item,{as:v.a,to:"/users/".concat(e.id)},r.a.createElement(x.a,{link:!0,name:"user"})," User")),r.a.createElement(fe,null,r.a.createElement("h1",null,e.name,"'s Movies"),r.a.createElement(he,{addNewMovie:this.addNewMovie})),r.a.createElement(ve,{doubling:!0,itemsPerRow:4},t.reverse()))}}]),t}(n.Component),be=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={movie:{},movieDetails:{genres:[]}},a.fetchMovieData=Object(E.a)(b.a.mark(function e(){var t,n;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.props.match.params.user_id,n=a.props.match.params.id,e.next=4,j.a.get("/api/users/".concat(t,"/movies/").concat(n));case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e,this)})),a.fetchMovieDetails=function(){var e=Object(E.a)(b.a.mark(function e(t){return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.a.get("https://api.themoviedb.org/3/movie/".concat(t,"?api_key=").concat(Object({NODE_ENV:"production",PUBLIC_URL:""}).REACT_APP_API_KEY));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),a.deleteMovie=function(){var e=Object(E.a)(b.a.mark(function e(t){var n;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.props.match.params.user_id,e.next=3,j.a.delete("/api/users/".concat(n,"/movies/").concat(t));case 3:a.props.history.push("/users/".concat(n,"/movies"));case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=Object(E.a)(b.a.mark(function e(){var t,a;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetchMovieData();case 2:return t=e.sent,e.next=5,this.fetchMovieDetails(t.data.movie_id);case 5:a=e.sent,this.setState({movie:t.data,movieDetails:a.data});case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state.movie,a=this.state.movieDetails.genres.map(function(e){return e.name});return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("img",{src:t.poster_path,alt:"movie poster"})),r.a.createElement("p",null,r.a.createElement("b",null,"Title:")," ",t.title),r.a.createElement("p",null,r.a.createElement("b",null,"Genre(s):"),a.toString()),r.a.createElement("p",null,r.a.createElement("b",null,"Release Date:")," ",t.release_date," "),r.a.createElement("p",null,r.a.createElement("b",null,"Overview:")," ",t.overview),r.a.createElement("button",{onClick:function(){return e.deleteMovie(t.id)}},"Delete Movie"))}}]),t}(n.Component),Ee=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).addNewTVShow=function(e,t,n,r,c){a.props.addNewTVShow(e,t,n,r,c),a.props.handleClose(),a.props.resetSearch()},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("img",{src:this.props.poster_path,alt:"show poster"})),r.a.createElement("div",null,this.props.name),r.a.createElement("div",null,this.props.first_air_date),r.a.createElement("div",null,this.props.overview),r.a.createElement("div",null,r.a.createElement(D.a,{onClick:function(){return e.addNewTVShow(e.props.name,e.props.tv_id,e.props.first_air_date,e.props.overview,e.props.poster_path)}},"Add to List")))}}]),t}(n.Component),Oe=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.props.searchResults.map(function(t,a){var n="https://image.tmdb.org/t/p/w200/".concat(t.poster_path);return r.a.createElement(Ee,{key:a,name:t.name,tv_id:t.id,first_air_date:t.first_air_date,poster_path:n,overview:t.overview,addNewTVShow:e.props.addNewTVShow,resetSearch:e.props.resetSearch,handleClose:e.props.handleClose})});return r.a.createElement("div",null,t)}}]),t}(n.Component),ge=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={searching:!1,searchQuery:"",searchResults:[],modalOpen:!1},a.handleOpen=function(){return a.setState({modalOpen:!0})},a.handleClose=function(){return a.setState({modalOpen:!1})},a.transferResult=function(e){a.setState({searchResults:e.data.results})},a.toggleSearching=function(){a.setState({searching:!a.state.searching})},a.inputChangeHandler=function(e){a.setState({searchQuery:e.target.value})},a.searchButtonHandler=Object(E.a)(b.a.mark(function e(){var t;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.a.get("https://api.themoviedb.org/3/search/tv?query=".concat(a.state.searchQuery,"&api_key=").concat(Object({NODE_ENV:"production",PUBLIC_URL:""}).REACT_APP_API_KEY));case 2:t=e.sent,a.transferResult(t),a.toggleSearching();case 5:case"end":return e.stop()}},e,this)})),a.newSearchHandler=function(){a.resetSearch()},a.resetSearch=function(){a.setState({searchQuery:"",searchResults:[],searching:!a.state.searching})},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(_.a,{trigger:r.a.createElement(D.a,{onClick:this.handleOpen},"Add a TV Show"),closeIcon:!0,open:this.state.modalOpen,onClose:this.handleClose},r.a.createElement(_.a.Content,null,r.a.createElement("h1",null,"Add TV Show"),r.a.createElement(k.a,{focus:!0,placeholder:"Search...",value:this.state.searchQuery,onChange:this.inputChangeHandler}),this.state.searching?r.a.createElement("button",{onClick:this.newSearchHandler},"New Search"):r.a.createElement("button",{onClick:this.searchButtonHandler},"Search"),this.state.searching?r.a.createElement(Oe,{searchResults:this.state.searchResults,addNewTVShow:this.props.addNewTVShow,resetSearch:this.resetSearch,handleClose:this.handleClose}):null)))}}]),t}(n.Component),je=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={user:{},tvShows:[],addTVShow:!1,newTVShow:{name:"",tv_id:"",first_air_date:"",overview:"",poster_path:""}},a.fetchData=Object(E.a)(b.a.mark(function e(){var t,n,r;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.props.match.params.user_id,e.next=3,j.a.get("/api/users/".concat(t));case 3:return n=e.sent,e.next=6,j.a.get("/api/users/".concat(t,"/tv_shows"));case 6:r=e.sent,a.setState({user:n.data,tvShows:r.data});case 8:case"end":return e.stop()}},e,this)})),a.toggleAddTVShow=function(){a.setState({addTVShow:!a.state.addTVShow})},a.addNewTVShow=function(){var e=Object(E.a)(b.a.mark(function e(t,n,r,c,s){var o;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(o=Object(S.a)({},a.state.newTVShow)).name=t,o.tv_id=n,o.first_air_date=r,o.overview=c,o.poster_path=s,e.next=8,a.setState({newTVShow:o});case 8:a.handleSubmitTVShow();case 9:case"end":return e.stop()}},e,this)}));return function(t,a,n,r,c){return e.apply(this,arguments)}}(),a.handleSubmitTVShow=Object(E.a)(b.a.mark(function e(){var t;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.props.match.params.user_id,e.next=3,j.a.post("/api/users/".concat(t,"/tv_shows"),a.state.newTVShow);case 3:return e.next=5,a.fetchData();case 5:a.setState({newTVShow:{name:"",tv_id:"",first_air_date:"",overview:"",poster_path:""}});case 6:case"end":return e.stop()}},e,this)})),a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=Object(E.a)(b.a.mark(function e(){return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetchData();case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.user,t=this.state.tvShows.map(function(t,a){return r.a.createElement(v.a,{key:a,to:"/users/".concat(e.id,"/tv_shows/").concat(t.id)},r.a.createElement(B.a,null,r.a.createElement(B.a.Content,null," Name: ",t.name," "),r.a.createElement(B.a.Content,null,r.a.createElement("img",{src:t.poster_path,alt:"show poster"})," ")))});return r.a.createElement("div",null,r.a.createElement("h1",null,e.name,"'s TV Shows"),r.a.createElement(ge,{addNewTVShow:this.addNewTVShow}),r.a.createElement("div",null,t.reverse()))}}]),t}(n.Component),ye=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={tvShow:{},tvShowDetails:{genres:[],networks:[]}},a.fetchTvShowData=Object(E.a)(b.a.mark(function e(){var t,n;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.props.match.params.user_id,n=a.props.match.params.id,e.next=4,j.a.get("/api/users/".concat(t,"/tv_shows/").concat(n));case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e,this)})),a.fetchTvShowDetails=function(){var e=Object(E.a)(b.a.mark(function e(t){return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.a.get("https://api.themoviedb.org/3/tv/".concat(t,"?api_key=").concat(Object({NODE_ENV:"production",PUBLIC_URL:""}).REACT_APP_API_KEY));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),a.deleteTvShow=function(){var e=Object(E.a)(b.a.mark(function e(t){var n;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.props.match.params.user_id,e.next=3,j.a.delete("/api/users/".concat(n,"/tv_shows/").concat(t));case 3:a.props.history.push("/users/".concat(n,"/tv_shows"));case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=Object(E.a)(b.a.mark(function e(){var t,a;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetchTvShowData();case 2:return t=e.sent,e.next=5,this.fetchTvShowDetails(t.data.tv_id);case 5:a=e.sent,this.setState({tvShow:t.data,tvShowDetails:a.data});case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state.tvShow,a=this.state.tvShowDetails,n=a.genres,c=a.networks,s=n.map(function(e){return e.name}),o=c.map(function(e){return e.name});return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("img",{src:t.poster_path,alt:"show poster"})),r.a.createElement("p",null,r.a.createElement("b",null,"Name:")," ",t.name),r.a.createElement("p",null,r.a.createElement("b",null,"Genre(s):")," ",s.toString()),r.a.createElement("p",null,r.a.createElement("b",null,"Overview:")," ",t.overview),r.a.createElement("p",null,r.a.createElement("b",null,"Network(s):")," ",o.toString()),r.a.createElement("p",null,r.a.createElement("b",null,"First Air Date:")," ",t.first_air_date," "),r.a.createElement("p",null,r.a.createElement("b",null,"Total Seasons:")," ",a.number_of_seasons),r.a.createElement("p",null,r.a.createElement("b",null,"Total Episodes:")," ",a.number_of_episodes),r.a.createElement("p",null,r.a.createElement("b",null,"Status:")," ",a.status),r.a.createElement("button",{onClick:function(){return e.deleteTvShow(t.id)}},"Delete TV Show"))}}]),t}(n.Component),Se=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(h.a,null,r.a.createElement(m.a,null,r.a.createElement(d.a,{exact:!0,path:"/",component:f}),r.a.createElement(d.a,{exact:!0,path:"/users",component:z}),r.a.createElement(d.a,{exact:!0,path:"/users/:id",component:re}),r.a.createElement(d.a,{exact:!0,path:"/users/:user_id/movies",component:we}),r.a.createElement(d.a,{exact:!0,path:"/users/:user_id/tv_shows",component:je}),r.a.createElement(d.a,{exact:!0,path:"/users/:user_id/movies/:id",component:be}),r.a.createElement(d.a,{exact:!0,path:"/users/:user_id/tv_shows/:id",component:ye})))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(443).config(),s.a.render(r.a.createElement(Se,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[252,2,1]]]);
//# sourceMappingURL=main.3e0c217f.chunk.js.map